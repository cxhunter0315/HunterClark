<pre><font color="#007f69">turtles-own</font><font color="#000000"> [   </font><font color="#5a5a5a">;Determines the variables that the ant can have.</font><font color="#000000"><br />    sick?<br />    sick-time<br />    ticks-since-here]<br /><br /></font><font color="#007f69">patches-own</font><font color="#000000"> [  </font><font color="#5a5a5a">;Determines the variables that the patches can have.</font><font color="#000000"><br />  countdown ]<br /><br /></font><font color="#007f69">globals</font><font color="#000000"><br />  [            </font><font color="#5a5a5a">;This is where we define our variable</font><font color="#000000"><br />    chance-reproduce<br />    carrying-capacity<br />    plant-heal-time<br /><br />]<br /><br /></font><font color="#007f69">to</font><font color="#000000"> setup<br />  </font><font color="#0000aa">clear-all</font><font color="#000000"><br />  setup-constants    </font><font color="#5a5a5a">;Runs the setup-constants command</font><font color="#000000"><br />  setup-turtles      </font><font color="#5a5a5a">;Runs the setup-turtles command</font><font color="#000000"><br />  update-display     </font><font color="#5a5a5a">;Runs the update-display command</font><font color="#000000"><br /><br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> [      </font><font color="#5a5a5a">;Sets up the &quot;dirt&quot; and gives all patches a random heal time for plants</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#963700">brown</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> countdown </font><font color="#660096">random</font><font color="#000000"> plant-heal-time<br />  ]<br /><br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">n-of</font><font color="#000000"> plants </font><font color="#660096">patches</font><font color="#000000"> [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000"> ] </font><font color="#5a5a5a">;Asks random patches equal to the number of plants you've selected on the slider to become plants</font><font color="#000000"><br /><br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">n-of</font><font color="#000000">(Initial-Infections) </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [</font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000">]<br />      [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#963700">12</font><font color="#000000"> ]                        </font><font color="#5a5a5a">;Makes a percentage of the population infected, you are able to control this with the slider on the interface</font><font color="#000000"><br /><br /><br />  </font><font color="#0000aa">reset-ticks</font><font color="#000000"><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /></font><font color="#007f69">to</font><font color="#000000"> setup-turtles                         </font><font color="#5a5a5a">;Sets up the ants as an agent</font><font color="#000000"><br />  </font><font color="#0000aa">create-turtles</font><font color="#000000"> number-of-ants<br />  [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">shape</font><font color="#000000"> </font><font color="#963700">&quot;bug&quot;</font><font color="#000000">                      </font><font color="#5a5a5a">;Changes the ants shape from a dot to an ant</font><font color="#000000"><br />     </font><font color="#0000aa">setxy</font><font color="#000000"> </font><font color="#660096">random-xcor</font><font color="#000000"> </font><font color="#660096">random-ycor</font><font color="#000000">       </font><font color="#5a5a5a">;This creates the ants and places them randomly throughout the lattice</font><font color="#000000"><br />     </font><font color="#0000aa">set</font><font color="#000000"> sick-time </font><font color="#963700">0</font><font color="#000000">                     </font><font color="#5a5a5a">;Makes sure that the ants do not start off infected</font><font color="#000000"><br />     </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">1.5</font><font color="#000000">                        </font><font color="#5a5a5a">;Sets the size of the ants to be 1.5 times the size of the patches</font><font color="#000000"><br />      get-healthy ]                      </font><font color="#5a5a5a">;Ensures the ants start off as healthy</font><font color="#000000"><br /><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> get-sick                             </font><font color="#5a5a5a">;This is a command to ensure the infected ants turn red</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> sick? </font><font color="#963700">true</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">red</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> sick-time </font><font color="#963700">0</font><font color="#000000"><br /><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> get-healthy                          </font><font color="#5a5a5a">;This is a command to ensure healthy ants turn black and don't gain the side effects of being sick</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> sick? </font><font color="#963700">false</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> sick-time </font><font color="#963700">0</font><font color="#000000"><br /><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /></font><font color="#007f69">to</font><font color="#000000"> setup-constants<br />  </font><font color="#0000aa">set</font><font color="#000000"> carrying-capacity </font><font color="#963700">500</font><font color="#000000">                      </font><font color="#5a5a5a">;Fixed Carrying Capacity of the model</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> chance-reproduce </font><font color="#963700">0.5</font><font color="#000000">                       </font><font color="#5a5a5a">;As there is not a functional queen, we are purely looking at foragers. To keep the population from plummiting we add a chance to reproduce</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> plant-heal-time (</font><font color="#963700">4</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">6</font><font color="#000000">) </font><font color="#660096">*</font><font color="#000000"> </font><font color="#963700">7</font><font color="#000000">   </font><font color="#5a5a5a">;As the model runs quite quickly, this command makes it so the heal time of the plant is converted to weeks. The process still takes 4 - 10 days but it is scaled to weeks for the sake of the model.</font><font color="#000000"><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> go<br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">[                                         </font><font color="#5a5a5a">;This is the checklist the ant goes through per tick, it ages, moves, and checks for infection.</font><font color="#000000"><br />    reproduce                                          </font><font color="#5a5a5a">;Runs the reproduce command</font><font color="#000000"><br />    infect                                             </font><font color="#5a5a5a">;Runs the infect command</font><font color="#000000"><br />    </font><font color="#0000aa">if</font><font color="#000000"> sick? [ time-to-die ]                           </font><font color="#5a5a5a">;If the ant is sick, it will run the time to die command</font><font color="#000000"><br />    </font><font color="#0000aa">if</font><font color="#000000"> sick? [ </font><font color="#0000aa">set</font><font color="#000000"> sick-time sick-time </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> ]           </font><font color="#5a5a5a">;If the ant is sick, starts up the command for sick time as a countdown for the time to die command</font><font color="#000000"><br /><br />    </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [ </font><font color="#660096">not</font><font color="#000000"> sick?] [                    </font><font color="#5a5a5a">;If the turtle is healthy, then it just moves</font><font color="#000000"><br /><br />      move<br /><br />    ]<br /><br /><br />  ]<br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> [                                                         </font><font color="#5a5a5a">;This set of code is used to mimic the ant finding a plant in the wild to death grip</font><font color="#000000"><br />    </font><font color="#0000aa">if</font><font color="#000000"> sick?[<br />      </font><font color="#0000aa">face</font><font color="#000000"> </font><font color="#660096">min-one-of</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [</font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000">] [</font><font color="#660096">distance</font><font color="#000000"> </font><font color="#660096">myself</font><font color="#000000">]   </font><font color="#5a5a5a">;Asks the ant to face the direction of the closest green plant</font><font color="#000000"><br />      </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">brown</font><font color="#000000"> [                                               </font><font color="#5a5a5a">;Asks the ant if the patch underneath is brown, if so then it must continue to move</font><font color="#000000"><br />        move ]<br />      </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000"> [                                               </font><font color="#5a5a5a">;Asks the ant if the patch underneath is green, if so then it must stop and start the infect-plant command</font><font color="#000000"><br />        infect-plant]<br />      </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">12</font><font color="#000000"> [                                                  </font><font color="#5a5a5a">;Forces the ant to stay stationary once the plant has turned red</font><font color="#000000"><br />        </font><font color="#0000aa">forward</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">]<br />    ]<br />  ]<br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [</font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">12</font><font color="#000000">] [                                      </font><font color="#5a5a5a">;Asks if the plant is infected, if so then start the heal plant command</font><font color="#000000"><br />    heal-plant]<br />  </font><font color="#5a5a5a">;excel                                                                ;Allows for easy data collection</font><font color="#000000"><br />  </font><font color="#0000aa">tick</font><font color="#000000"><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /></font><font color="#007f69">to</font><font color="#000000"> update-display                                                                      </font><font color="#5a5a5a">;Just stops rainbow coloured ants from occuring</font><font color="#000000"><br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">                                                                          </font><font color="#5a5a5a">;Just asks the turtles what their health conditions are like. If they are healthy then they get coloured black, if sick then they are coloured red</font><font color="#000000"><br />      [</font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">ifelse-value</font><font color="#000000"> sick? [ </font><font color="#963700">red</font><font color="#000000"> ] [ </font><font color="#963700">black</font><font color="#000000"> ] ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> Time-to-die                                                                         </font><font color="#5a5a5a">;Used to kill off sick ants who haven't sucessfully completed the Death Grip</font><font color="#000000"><br />   </font><font color="#0000aa">if</font><font color="#000000"> sick-time </font><font color="#660096">&gt;</font><font color="#000000"> (</font><font color="#963700">4</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">6</font><font color="#000000">)                                                 </font><font color="#5a5a5a">;This is how long it takes for the whole life cycle to occur 4-10 days. Thus if it has not successfully completed a stage in its life cycle then it shall die out</font><font color="#000000"><br />    [</font><font color="#0000aa">die</font><font color="#000000">]                                                                              </font><font color="#5a5a5a">;Pretty self explanitory</font><font color="#000000"><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> reproduce                                                                           </font><font color="#5a5a5a">;This is to stabalize the ant population, its a randomized birth rate.</font><font color="#000000"><br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [</font><font color="#660096">not</font><font color="#000000"> sick?] [                                                       </font><font color="#5a5a5a">;Asks if the number of ants on the screen is less than the carrying capacity,</font><font color="#000000"><br />    </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">count</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">&lt;</font><font color="#000000"> carrying-capacity </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">250</font><font color="#000000"> </font><font color="#660096">&lt;</font><font color="#000000"> chance-reproduce       </font><font color="#5a5a5a">;if so then all healthy ants have a chance to produce an offspring</font><font color="#000000"><br />    [ </font><font color="#0000aa">hatch</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">[<br />      </font><font color="#0000aa">lt</font><font color="#000000"> </font><font color="#963700">45</font><font color="#000000"> </font><font color="#0000aa">fd</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">                                                                       </font><font color="#5a5a5a">;Movement pattern for the new ant</font><font color="#000000"><br />      get-healthy                                                                      </font><font color="#5a5a5a">;Makes sure the new ant is healthy</font><font color="#000000"><br />      ]<br />    ]<br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> move                                       </font><font color="#5a5a5a">;Used to mimic ants movement</font><font color="#000000"><br />  </font><font color="#0000aa">rt</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">100</font><font color="#000000">                               </font><font color="#5a5a5a">;Right turn x amount</font><font color="#000000"><br />  </font><font color="#0000aa">lt</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">100</font><font color="#000000">                               </font><font color="#5a5a5a">;Left turn x amount</font><font color="#000000"><br />  </font><font color="#0000aa">forward</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">                                   </font><font color="#5a5a5a">;forward 1</font><font color="#000000"><br /><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> infect                                               </font><font color="#5a5a5a">;Infects ants that come into contact with plant</font><font color="#000000"><br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [</font><font color="#660096">not</font><font color="#000000"> sick?] [<br />    </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">12</font><font color="#000000">[                                     </font><font color="#5a5a5a">;This asks all the turtles that are not sick if they are on an infected plant</font><font color="#000000"><br />      </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">100</font><font color="#000000"> </font><font color="#660096">&lt;</font><font color="#000000"> (</font><font color="#963700">10</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">15</font><font color="#000000">)[     </font><font color="#5a5a5a">;Statistical chance of being infected from the spores, this was taken from a study stating that 10 - 15% of the forager population was infected from the spores.</font><font color="#000000"><br />        get-sick                                        </font><font color="#5a5a5a">;Starts the get-sick procedure</font><font color="#000000"><br />        </font><font color="#0000aa">forward</font><font color="#000000"> </font><font color="#963700">10</font><font color="#000000">                                      </font><font color="#5a5a5a">;This is a feature added to stop the ant from being locked to the infected plant</font><font color="#000000"><br />    ]<br />    ]<br /><br />  ]<br /><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> infect-plant                                                     </font><font color="#5a5a5a">;This is the code equivalent of the Death Grip</font><font color="#000000"><br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">one-of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> [<br />    </font><font color="#0000aa">if</font><font color="#000000"> sick?[                                                       </font><font color="#5a5a5a">;This asks each of the ant if they are sick, if true then move onto the next line of code.</font><font color="#000000"><br />      </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000">[                                            </font><font color="#5a5a5a">;It then confirms if the patch the ant occupies is green, it cannot be red or brown as these are not viable plants</font><font color="#000000"><br />        </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">100</font><font color="#000000"> </font><font color="#660096">&lt;</font><font color="#000000"> (</font><font color="#963700">61.8</font><font color="#000000"> </font><font color="#660096">-</font><font color="#000000"> (hyperparasite </font><font color="#660096">*</font><font color="#000000"> </font><font color="#963700">55.4</font><font color="#000000">)) [       </font><font color="#5a5a5a">;This is the statistical chance of a proper a successful inoculation. There is a 64% chance of being successful without hyperparasites involed. If you select the hyperparasites to be in the model, it changes from a zero to a one. This allows for the subtraction of 55.4% success rate as the parasite is only has 8.6% success rate when hyperparasites are involved</font><font color="#000000"><br />            </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#963700">12</font><font color="#000000">]                                          </font><font color="#5a5a5a">;Changes the green plant into an infected red plant</font><font color="#000000"><br />      ]<br />    ]<br />  ]<br /><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> heal-plant                                </font><font color="#5a5a5a">;Allows for the plant to become non contagious</font><font color="#000000"><br />  </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">12</font><font color="#000000"> [                           </font><font color="#5a5a5a">;Asks if the patch colour is dark red</font><font color="#000000"><br />    </font><font color="#0000aa">ifelse</font><font color="#000000"> countdown </font><font color="#660096">&lt;=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">                    </font><font color="#5a5a5a">;Asks if the countdown is less than or equal to zero, if true then it can run the next command</font><font color="#000000"><br />      [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000">                     </font><font color="#5a5a5a">;Sets the patch color back to green</font><font color="#000000"><br />        </font><font color="#0000aa">set</font><font color="#000000"> countdown plant-heal-time ]      </font><font color="#5a5a5a">;Restarts the plant heal time to zero because it is no longer infected</font><font color="#000000"><br />      [ </font><font color="#0000aa">set</font><font color="#000000"> countdown countdown </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> ]        </font><font color="#5a5a5a">;If the countdown was greater than zero, this command runs which just subtracts one from the countdown</font><font color="#000000"><br />  ]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#5a5a5a">;to excel                                                           ;This section of the model is for data collection, It is greyed out so you don't make random excel files on your computer</font><font color="#000000"><br />  </font><font color="#5a5a5a">;if ticks &gt;= 300 [                                                ;Allows the model to run for 300 ticks prior to running the save command</font><font color="#000000"><br />    </font><font color="#5a5a5a">;export-all-plots  (word &quot;High &quot; random-float 1.0 &quot;.csv&quot;)       ;The premise is that this code will export the plot as a .csv file with the name &quot;high&quot; followed by a randomly generated number. We do this to ensure that the file is not overwritten within the folder.</font><font color="#000000"><br />    </font><font color="#5a5a5a">;export-all-plots  (word &quot;Medium &quot; random-float 1.0 &quot;.csv&quot;)</font><font color="#000000"><br />    </font><font color="#5a5a5a">;export-all-plots  (word &quot;Low &quot; random-float 1.0 &quot;.csv&quot;)</font><font color="#000000"><br />    </font><font color="#5a5a5a">;export-all-plots  (word &quot;Hyper-High &quot; random-float 1.0 &quot;.csv&quot;)</font><font color="#000000"><br />    </font><font color="#5a5a5a">;export-all-plots  (word &quot;Hyper-Medium &quot; random-float 1.0 &quot;.csv&quot;)</font><font color="#000000"><br />    </font><font color="#5a5a5a">;export-all-plots  (word &quot;Hyper-Low &quot; random-float 1.0 &quot;.csv&quot;)</font><font color="#000000"><br /><br />    </font><font color="#5a5a5a">;setup]                                                         ;Allows for the model to restart to insure a loop is created</font><font color="#000000"><br /></font><font color="#5a5a5a">;end</font>
</pre>
